<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  <!-- Google Fonts -->
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?
    family=Nunito:wght@400;600;700&
    family=Kanit:wght@400;500;600;700&
    family=Kalam:wght@400;700&
    family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,400..700,0..1,-50..200
    &display=swap">
  <!-- Typicons -->
  <link rel="stylesheet" href="..\@Fonts&Icons\typicons\typicons.css"/> 
  <!--  href="../typicons.css" -->
  <!-- Flavicon -->
  <link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="..\@Fonts&Icons\fontawesome\css\fontawesome.min.css"/>
  <link rel="stylesheet" href="..\@Fonts&Icons\fontawesome\css\regular.min.css"/>
  <link rel="stylesheet" href="..\@Fonts&Icons\fontawesome\css\solid.min.css"/>
  <script src="https://kit.fontawesome.com/b4f765f607.js" crossorigin="anonymous"></script>
  
  <!-- 1. Hide everything immediately -->
  <style>body{visibility:hidden}</style>

  <!-- 2. Critical viewport JS -->
  <script>
    (() => {
      let screenHeight = window.innerHeight - 16;
      let screenWidth = window.innerWidth - 16;

      document.documentElement.style.setProperty('--vh', `${screenHeight}px`);
      document.documentElement.style.setProperty('--vw', `${screenWidth}px`);
    })();
  </script>
  <!-- CSS -->
  <!-- <link rel="stylesheet" href="workshopControl.css"> -->
  <title>Workshop Control</title>
</head>

<body>
  <section id="time">
    <div id="timeNow">Now</div>
    <div id="timeDuration">
      <div id="timeDurationShowZone">
        <div id="timeDurationShow"></div>
      </div>
      <div id="timeDurationTimes">
        <div class="timeDurationSides">
          <label for="timeDurationStartInput">Start</label>
          <span></span>
          <input id="timeDurationStartInput" class="time-clean" type="time" value="" />
        </div>
        <button id="askRefresh" onclick="askRefresh()">Refresh</button>
        <button id="resetTime" onclick="resetLocalTime()">Reset</button>
        <input type="checkbox" id="fullScreenCB" class="displayNone" />
        <label id="fullScreenLabel" for="fullScreenCB" style="margin: 0 0 0 20px">GO!</label>
        <div class="timeDurationSides">
          <label for="timeDurationEndInput">End</label>
          <input id="timeDurationEndInput" class="time-clean" type="time" value="" />
        </div>
      </div>
    </div>
  </section>
  <hr>
  <section id="diapo">
    <div id="diapoTitle"></div>
    <div id="diapoMain"></div>
    <div id="diapoActions">
      <button id="diapoActionsPrev" onclick="stepPrev()">Prev</button>
      <button id="diapoActionsReset" class="invisible">Start</button>
      <button id="diapoActionsEnd" class="invisible">End</button>
      <button id="diapoActionsNext" onclick="stepNext()">Next</button>
    </div>
  </section>
  <hr>
  <section id="pages">
    <button id="pagePrev" onclick="slidePrev()">Prev</button>
    <div id="allPages"></div>
    <button id="pageNext" onclick="slideNext()">Next</button>
  </section>

<!-- <script type="module" src="workshopControl.js"></script> -->
<script type="module">
  import { VERSION } from "../testVersion.js";
  
  const script = document.createElement("script");
  script.type = "module";
  script.src = `workshopControl.js?v=${VERSION}`;
  document.head.appendChild(script);

  const style = document.createElement("link");
  style.rel = "stylesheet";
  style.href = `workshopControl.css?v=${VERSION}`;
  document.head.appendChild(style);

  //document.querySelector("#timeDurationShowZone").insertAdjacentHTML("beforebegin", `<span>${VERSION}</span>`);
</script>
</body>

</html>