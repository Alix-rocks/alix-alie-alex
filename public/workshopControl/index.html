<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- TO ADD IF YOU REALLY WANT IT COMPLETELY RELOAD EVERYTIME (NOT RECOMMENDED EXCEPT FOR TESTING)-->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0"> 

  <!-- Local fonts -->
  <link rel="stylesheet" href="/@Fonts&Icons/fonts/fonts.css">

  <!-- Optional: preload main body font -->
  <!-- <link rel="preload"
    href="/@Fonts&Icons/fonts/nunito/nunito-v32-latin-500.woff2"
    as="font"
    type="font/woff2"
    crossorigin> -->

  <!-- Icons -->
  <link rel="stylesheet" href="/@Fonts&Icons/typicons/typicons.css">
  <link rel="stylesheet" href="/@Fonts&Icons/fontawesome/css/fontawesome.min.css">
  <link rel="stylesheet" href="/@Fonts&Icons/fontawesome/css/solid.min.css">
  <link rel="stylesheet" href="/@Fonts&Icons/fontawesome/css/regular.min.css">

  <!-- Favicons -->
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  
  <!-- 1. Hide everything immediately -->
  <style>body{visibility:hidden}</style>

  <!-- 2. Critical viewport JS -->
  <script>
    (() => {
      let screenHeight = window.innerHeight - 16;
      let screenWidth = window.innerWidth - 16;

      document.documentElement.style.setProperty('--vh', `${screenHeight}px`);
      document.documentElement.style.setProperty('--vw', `${screenWidth}px`);
    })();
  </script>
  <!-- CSS -->
  <!-- <link rel="stylesheet" href="workshopControl.css"> SEE SCRIPT AT THE BOTTOM -->
  <title>Workshop Control</title>
</head>

<body>
  <button id="askRefresh" onclick="askRefresh()">Refresh</button>
  <!-- <input type="checkbox" id="fullScreenCB" class="displayNone" />
  <label id="fullScreenLabel" for="fullScreenCB">GO!</label> -->
  <section id="time">
    <div id="timeNow">Now</div>
    <div id="timeDuration">
      <div id="timeDurationShowZone">
        <div id="interval"><input id="intervalInput" class="time-clean" type="number" min="0" max="30" step="5" value="5" />min</div>
        <div id="timeDurationShow"></div>
      </div>
      <div id="timeDurationTimes">
        <div class="timeDurationSides">
          <label for="timeDurationStartInput">Start</label>
          <span></span>
          <input id="timeDurationStartInput" class="time-clean" style="width: 70px;" type="time" value="" />
        </div>
        <button id="resetTime" onclick="resetLocalTime()">Reset</button>
        <div class="timeDurationSides">
          <label for="timeDurationEndInput">End</label>
          <input id="timeDurationEndInput" class="time-clean" style="width: 70px;" type="time" value="" />
        </div>
      </div>
    </div>
  </section>
  <hr>
  <section id="notes">

  </section>
  <hr>
  <section id="diapo">
    <div id="diapoMain"></div>
    <div id="diapoActions">
      <button id="diapoActionsPrev" onclick="stepPrev()">Prev</button>
      <!-- <button id="diapoActionsReset" class="invisible">Start</button> -->
      <!-- <button id="diapoActionsEnd" class="invisible">End</button> -->
      <button id="diapoActionsNext" onclick="stepNext()">Next</button>
    </div>
  </section>
  <hr>

  <section id="pages">
    <div id="allPages"></div>
    <div id="pagesBtns">
      <button id="pagePrev" onclick="slidePrev()">Prev</button>
      <button id="pageNext" onclick="slideNext()">Next</button>
    </div>
  </section>

<!-- <script type="module" src="workshopControl.js"></script> -->
<script type="module">
  import { VERSION } from "/testVersion.js";
  
  const script = document.createElement("script");
  script.type = "module";
  script.src = `workshopControl.js?v=${VERSION}`;
  document.head.appendChild(script);

  const style = document.createElement("link");
  style.rel = "stylesheet";
  style.href = `workshopControl.css?v=${VERSION}`;
  document.head.appendChild(style);

  //document.querySelector("#timeDurationShowZone").insertAdjacentHTML("beforebegin", `<span>${VERSION}</span>`);
</script>
</body>

</html>